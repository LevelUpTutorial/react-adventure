/*  Add smooth fade-in and fade-out animations for Dialogs */
.story-dialog-enter {
    opacity: 0;
    transform: scale(0.9);
    transition: opacity 0.3s ease, transform 0.3s ease;
}
.story-dialog-enter-active {
    opacity: 1;
    transform: scale(1);
}
.story-dialog-exit {
    opacity: 1;
    transform: scale(1);
    transition: opacity 0.3s ease, transform 0.3s ease;
}
.story-dialog-exit-active {
    opacity: 0;
    transform: scale(0.9);
}

/* Attack Animation */ 
@keyframes attack {
  0% { transform: translateX(0); }
  25% { transform: translateX(calc(-20px * var(--attack-direction))); }
  50% { transform: translateX(calc(50px * var(--attack-direction))) scale(1.05); } /* Dynamic direction */
  75% { transform: translateX(calc(-10px * var(--attack-direction))); }
  100% { transform: translateX(0); }
}
@keyframes hit {
  /* Idle period */
  0% { 
    transform: translateX(0) rotate(0deg) scale(1); 
    opacity: 1; 
    filter: none; /* Normal color */
  }
  50% { 
    transform: translateX(0) rotate(0deg) scale(1); 
    opacity: 1; 
    filter: none; /* Normal color */
  } /* Stay idle */

  /* Impact effects start */
  60% { 
    transform: translateX(-15px) rotate(-10deg) scale(1.1); 
    opacity: 0.9; 
    filter: brightness(1.2) sepia(1) hue-rotate(-50deg) saturate(3); /* Red tone */
  }
  75% { 
    transform: translateX(15px) rotate(10deg) scale(1.2); 
    opacity: 0.8; 
    filter: brightness(1.2) sepia(1) hue-rotate(-50deg) saturate(3); /* Red tone */
  }
  90% { 
    transform: translateX(-5px) rotate(-5deg) scale(1.05); 
    opacity: 0.95; 
    filter: brightness(1.1) sepia(0.8) hue-rotate(-30deg) saturate(2); /* Subtle fade back */
  }
  100% { 
    transform: translateX(0) rotate(0deg) scale(1); 
    opacity: 1; 
    filter: none; /* Back to normal */
  }
}
@keyframes impact {
  0% { transform: scale(0); opacity: 0; } /* Start hidden */
  50% { transform: scale(1.2); opacity: 1; } /* Peak effect */
  100% { transform: scale(1.5); opacity: 0; } /* Fade out and expand */
}
.impact {
  background: radial-gradient(circle, rgba(255, 0, 0, 0.8), rgba(255, 0, 0, 0));
  border-radius: 50%;
  position: absolute;
  pointer-events: none; /* Prevent interaction */
  transform: translate(-50%, -50%); /* Center the effect */
}

@keyframes critical-attack {
  0% { transform: translateX(0); }
  20% { transform: translateX(calc(-10px * var(--attack-direction))); } /* Slight step back */
  40% { transform: translateX(calc(70px * var(--attack-direction))) scale(1.1); } /* Lunge forward */
  60% { transform: translateX(calc(70px * var(--attack-direction))) scale(1.1); } /* Brief pause */
  80% { transform: translateX(calc(-10px * var(--attack-direction))); } /* Recoil */
  100% { transform: translateX(0); } /* Return to original position */
}
@keyframes critical-hit {
  0% { transform: translateX(0) rotate(0deg) scale(1); filter: none; }
  40% { transform: translateX(0) rotate(0deg) scale(1); filter: none; } /* Idle */
  50% { transform: translateX(calc(10px * var(--attack-direction))) scale(1.1); filter: brightness(2) contrast(2); } /* Flash and slight push */
  60% { transform: translateX(calc(10px * var(--attack-direction))); } /* Brief pause */
  70% { transform: translateX(calc(20px * var(--attack-direction))) rotate(-5deg); filter: brightness(1.2); } /* Further push and tilt */
  90% { transform: translateX(calc(10px * var(--attack-direction))) rotate(3deg); } /* Recoil */
  100% { transform: translateX(0) rotate(0deg) scale(1); filter: none; } /* Return to normal */
                             }
@keyframes critical-impact {
  0% { transform: scale(0); opacity: 0; background: radial-gradient(circle, rgba(255, 255, 255, 1), rgba(255, 255, 255, 0)); }
  40% { transform: scale(2); opacity: 1; } /* Expand to double size */
  70% { transform: scale(2.5); opacity: 0.5; } /* Further expansion */
  100% { transform: scale(3); opacity: 0; } /* Fade out */
}
.critical-impact {
  position: absolute;
  pointer-events: none;
  border-radius: 50%;
  width: 100px; /* Adjust based on preference */
  height: 100px;
}
